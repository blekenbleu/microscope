<html><head>
<link rel='stylesheet' type='text/css' href='../static/my.css'>

<title>focus stacking</title>
</head>

<body>
<div align=center>
<table class="my_table"><tr><td>

<font size=-1><i><a href="./">back</a></i></font>

<h3>focus stacking</h3></a>

<p><a href="macro_links.htm#FOCUS"><em>links</em></a><br>
Some images, including highly magnified, want more depth of focus.<br>
Other than by retaking with smaller aperture<br>
(increasing noise, motion blur and/or diffraction),<br>
combining sharper parts of multiple images of a scene<br>
captured at overlapping focal distance increments<br>
is called <em>focus stacking</em> and involves two parts:</p>
<ul>
  <li>capturing those images (AKA focus bracketing)</li>
  <li>combining them</li>
</ul>

<p>Some cameras support focus bracketing<br>
using so-called autofocus lenses which include mechanisms<br>
by which cameras can change their focus.</p>

Focus bracket by incrementing camera and lens distance to scene object[s].<br>
<a href="https://www.wemacro.com">WeMacro</a> automates both<ul>
<li>focus <a href="https://www.wemacro.com/?product=micromate-bracket-only">knobs</a>:<br>
<img width=640 src="https://www.wemacro.com/wp-content/uploads/2017/06/mm-working-1.jpg" alt="MicroMate bracket"><br>
<li><a href="https://www.wemacro.com/?product=wemacro-rail">rails</a>:<br>
<img width=640 src="https://www.photoinfos.com/Fototechnik/Zubehoer/Einstellschlitten/Wemacro/Canon-100mm-macro-is-usm-14.jpg" alt="WeMacro rail"></ul>

<h3 id="focus-stacking-software">Focus stacking software</h3>
<p>Two well-regarded commercial image stacking software offerings:<ul>
<li><a href="https://www.heliconsoft.com/heliconsoft-products/helicon-focus/">Helicon</a>
	favors those wanting a completely automated approach
<li><a href="https://zerenesystems.com/cms/stacker">Zerene</a>
supports more tweaking and touching up stacked images.<br>
	<a href="https://zerenesystems.com/cms/stacker/docs/tables/macromicrodof">Zerene macro step size tables</a>:
	<br> &emsp; magnification vs frame width, magnification vs aperture<ul>
	<li>magnification <code>m = sensor width / subject frame width</code>
	<li>DoF (mm) = <code>0.0022*(((m+1)*f/#)/m)**2</code>
	<li>DoF (mm) = <code>0.00055/(N.A.**2)</code></ul></ul>

<p><a href="https://www.researchgate.net/publication/269630893_Focus_stacking_Comparing_commercial_top-end_set-ups_with_a_semi-automatic_low_budget_approach_A_possible_solution_for_mass_digitization_of_type_specimens">CombineZP, Auto-Montage, Helicon Focus and Zerene Stacker</a> (2014)</p>

<p>Free solutions includes <a href="https://www.canon-europe.com/support/consumer_products/software/digital-photo-professional.html?language=en&amp;os=windows%2010%20(64-bit)&amp;productid=tcm:13-1870570">Canonâ€™s DPP 4</a>,<br>
 &emsp; which works only for their lenses and cameras with focus bracketing support,<br>
CombineZP, which does not support 16-bit images,<br>
Picolay, ImageJ, <a href="https://tawbaware.com/tufusepro_help/tufusepro_help.htm">TuFuse</a>,<br>
<a href="https://www.jpchacha.com/chasysdraw/">Chasys Draw IES</a> supports CR2/3 and <a href="https://www.jpchacha.com/chasysdraw/help.php?file=artist_process_stack_focus.htm">Focus Stacking</a>,<br>
 &emsp; seemingly without alignment,
	when stacking for
	<a href="https://www.jpchacha.com/chasysdraw/help.php?file=artist_tutorials_stacking.htm">image averaging</a>.</p>

<h3 id="5-open-source-focus-stacking-software-2-paid-options"><a href="https://chasingheartbeats.com/open-source-focus-stacking-software/">5 Open Source Focus Stacking Software(+ 2 Paid Options)</a></h3>

<h3 id="picolay"><a href="http://www.picolay.de">PICOLAY</a></h3>
<p>Works internally on bitmaps;  loads but cannot save TIFFs.</p>

<h3 id="on1-photo-raw-2022----free-trial"><a href="https://www.on1.com/products/photo-raw">ON1 Photo RAW 2022</a>  - free trial</h3>
<p>focus stacking is on the right corner of the photo editing toolbar.<br>
Good <a href="http://www.picolay.de/workshop/Understanding_Stacking-Parameters.pdf">stacking parameter documentation</a><br>
Moving GIFs with perspective shift(?!)</p>

<h3 id="imagej">ImageJ</h3>
<ul>
  <li><a href="http://bigwww.epfl.ch/demo/edf/">Extended Depth of Field</a></li>
  <li><a href="https://imagej.nih.gov/ij/plugins/stack-focuser.html">Stack Focuser</a></li>
  <li><a href="https://fiji.sc">Fiji/ImageJ</a><br>
<a href="https://www.dpreview.com/forums/post/50059191">Discussions thread</a></li>
  <li><a href="http://wsr.imagej.net/macros/toolsets/MagicMontage.pdf">Auto Montage / MagicMontage</a><br>
<a href="https://github.com/imagej/ij1-installer/blob/master/app/macros/toolsets/Magic%20Montage.txt">source</a></li>
</ul>

<h3>DPP4 Depth Compositing tool (Focus Stacking)<br>
 &emsp; <a href="https://community.usa.canon.com/t5/Camera-Software/DPP4-Depth-Compositing-tool-Focus-Stacking-Comments-Observations/td-p/309489">Comments / Observations</a></h3>
<ul>
  <li><a href="https://www.the-digital-picture.com/Canon-Cameras/Canon-Focus-Bracketing.aspx">What is it, Officially Supported lenses, examples</a></li>
  <li><a href="https://snapshot.canon-asia.com/in/article/eng/focus-stacking-a-pro-technique-made-simpler-with-focus-bracketing">simpler tutorial</a></li>
  <li>hack EXIF to fake other lenses support?
    <ul>
      <li><a href="https://www.exiftool.org">ExifTool by Phil Harvey</a> <a href="https://www.exiftool.org">on SourceForge</a><br>
<a href="https://adamtheautomator.com/exiftool/">Everything You Ever Wanted to Know about ExifTool</a><br>
<a href="https://exiftool.org/gui/">ExifToolGUI for Windows v5.xx</a></li>
    </ul>
  </li>
</ul>

<h3><a href="https://www.youtube.com/watch?v=FMKABaISlXg">Focus Stacking with Hugin and Enfuse</a> - YouTube
<br> &emsp; <strong>Hugin now with enfuse</strong></h3>
<ul>
  <li><a href="/microscope/objectives/Hugin.htm"><strong>already using Hugin
	 for image alignment to difference</strong></a>.</li>
  <li><a href="https://macrocam.blogspot.com/2013/09/using-hugin-for-focus-stacking.html">Hugin for focus stacking</a></li>
  <li><a href="https://estar.photography/tag/focus-stacking-hugin/">Focus stacking from the command line</a>
	 - <em><a href="https://groups.google.com/g/hugin-ptx/c/dZ2kL4hjbnE?pli=1">discussion</a></em></li>
  <li><a href="https://patdavid.net/2013/01/focus-stacking-macro-photos-enfuse/">
	Focus Stacking Macro Photos with Enfuse</a></li>
  <li><a href="https://wiki.panotools.org/Enfuse">Enfuse can also
	 build extended DOF images, by focus stack blending</a></li>
</ul>

</td></tr><tr><td align=center>
maintained by <a href="https://github.com/blekenbleu">blekenbleu</a><br>
</td></tr></table></div>

</body></html>
